@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #0f172a;
  --card: #ffffff;
  --muted: #f1f5f9;
  --muted-foreground: #475569;
  --border: #e2e8f0;
  --accent: #2563eb;
  --accent-rgb: 37, 99, 235;
  --accent-foreground: #ffffff;
  --ring: #2563eb;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-ring: var(--ring);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

html.dark {
  --background: #0b1020;
  --foreground: #e5e7eb;
  --card: #0f172a;
  --muted: #111b34;
  --muted-foreground: #a1a1aa;
  --border: #24304d;
  --accent: #60a5fa;
  --accent-rgb: 96, 165, 250;
  --accent-foreground: #0b1020;
  --ring: #60a5fa;
}

@layer base {
  html {
    color-scheme: light;
  }

  html.dark {
    color-scheme: dark;
  }

  body {
    font-family: var(--font-sans);
    background: var(--background);
    color: var(--foreground);
    text-rendering: optimizeLegibility;
  }
}

/* Scoped styling for react-floating-whatsapp internal UI */
.jdrt-whatsapp [class*="styles-module_whatsappChatBox__"] {
  border: 1px solid var(--border) !important;
  background-color: var(--card) !important;
}

.jdrt-whatsapp [class*="styles-module_chatHeader__"] {
  background-color: var(--accent) !important;
}

.jdrt-whatsapp [class*="styles-module_chatHeader__"] [class*="styles-module_status__"] {
  color: var(--accent-foreground) !important;
}

.jdrt-whatsapp [class*="styles-module_chatHeader__"] [class*="styles-module_statusSubtitle__"] {
  color: color-mix(in oklab, var(--accent-foreground) 80%, transparent) !important;
}

.jdrt-whatsapp [class*="styles-module_chatHeader__"] [class*="styles-module_close__"] svg {
  fill: var(--accent-foreground) !important;
}

/* Online dot on avatar */
.jdrt-whatsapp [class*="styles-module_chatHeader__"] [class*="styles-module_avatar__"]:after {
  background: var(--accent) !important;
}

.jdrt-whatsapp [class*="styles-module_chatBody__"] {
  background-color: var(--muted) !important;
}

.jdrt-whatsapp [class*="styles-module_chatBubble__"] {
  background-color: color-mix(in oklab, var(--accent) 14%, var(--card)) !important;
}

.jdrt-whatsapp [class*="styles-module_message__"] {
  background-color: var(--card) !important;
  box-shadow: 0px 1px 0.5px 0px rgb(0 0 0 / 10%) !important;
}

.jdrt-whatsapp [class*="styles-module_messageBody__"] {
  color: var(--foreground) !important;
}

.jdrt-whatsapp [class*="styles-module_messageTime__"] {
  color: var(--muted-foreground) !important;
}

.jdrt-whatsapp [class*="styles-module_triangle__"] {
  border-color: transparent var(--card) transparent transparent !important;
}

/* Typing dots */
.jdrt-whatsapp [class*="styles-module_typing__"] [class*="styles-module_dot__"] {
  background-color: color-mix(in oklab, var(--accent) 55%, var(--muted-foreground)) !important;
}

/* Footer input + send button */
.jdrt-whatsapp [class*="styles-module_chatFooter__"] {
  background-color: var(--card) !important;
  border-top: 1px solid var(--border) !important;
}

.jdrt-whatsapp [class*="styles-module_chatFooter__"] [class*="styles-module_input__"] {
  background-color: var(--background) !important;
  color: var(--foreground) !important;
  border: 1px solid var(--border) !important;
}

.jdrt-whatsapp [class*="styles-module_chatFooter__"] [class*="styles-module_input__"]::placeholder {
  color: var(--muted-foreground) !important;
}

.jdrt-whatsapp [class*="styles-module_chatFooter__"] [class*="styles-module_input__"]:focus {
  border-color: var(--ring) !important;
  box-shadow: 0 0 0 1px var(--ring) !important;
}

.jdrt-whatsapp [class*="styles-module_chatFooter__"] [class*="styles-module_buttonSend__"] svg {
  fill: var(--muted-foreground) !important;
}

.jdrt-whatsapp [class*="styles-module_chatFooter__"] [class*="styles-module_buttonSend__"]:hover svg {
  fill: var(--accent) !important;
}

/* Floating button wave (pulse) color */
.jdrt-whatsapp-button {
  position: relative;
  background-color: var(--accent) !important;
}

.jdrt-whatsapp-button::after {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  border-radius: 9999px !important;
  pointer-events: none;

  animation: jdrt-whatsapp-pulse 1.2s infinite !important;
}

@keyframes jdrt-whatsapp-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(var(--accent-rgb), 0.75);
  }

  100% {
    box-shadow: 0 0 0 15px rgba(var(--accent-rgb), 0);
  }
}